#!/usr/bin/env bash

# Set PATH: Prioritize local over global
export PATH="/usr/local/bin:$PATH"
export PATH="$HOME/.local/bin:$PATH"
export PATH="$HOME/bin:$PATH"

# Add dotfiles directory to PATH
REALPATH=$([ -L "$0" ] && readlink "$0")
REALDIR=$(dirname "$REALPATH")
export PATH="$REALDIR:$PATH"

# Initialize Homebrew
command -v /opt/homebrew/bin/brew >/dev/null && eval "$(/opt/homebrew/bin/brew shellenv)"

# Default editor used by other programs
if command -v hx >/dev/null; then
	export EDITOR='hx'
else
	export EDITOR='vim'
fi

# broot file browser
source "$HOME/.config/broot/launcher/bash/br" 2>/dev/null

# Rust
source ~/.cargo/env

# n + Node/npm
export N_PREFIX=$HOME/.n
export PATH="$HOME/.n/bin:$PATH"

# Aliases
if [ -f "$HOME/.bash_aliases" ]; then
	source "$HOME/.bash_aliases"
fi

# Local settings
if [ -f "$HOME/.bash_local" ]; then
	source "$HOME/.bash_local"
fi
